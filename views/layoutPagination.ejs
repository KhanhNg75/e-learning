<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/3.0.1/jquery-migrate.min.js"></script>
    <script>
    $(".testbtn").each(function() {
        $(this).on("click", function(e) {
            var href = $(this).attr('href');
            $.ajax({
                type: "GET",
                url: href,
                success: (data) => {
                    //clear old data
                    console.log(data);
                    console.log("success");
                }
            });
            async: false
            e.preventDefault();
        })
    })
    </script>
</head>
<body>
    <div class="container" style="margin-top:50px;">
        <div class="row">
            <% for (var i = 0; i < products.length; i++) { %>
                <div class="col-md-4">
                    <div class="thumbnail">
                        <div class="caption">
                            <h3><%= products[i]._id %></h3>
                            <p><%= products[i].courseid %></p>
                            <p><%= products[i].coursename %></p>
                        </div>
                    </div>
                </div>
            <% } %>
        </div>
        <!-- <div class="c-table__pagination" style="width:100%">
                            <ul style="display:flex;justify-content: center;align-items: center;">    
                                <% for( var i = 1; i <= pPage ; i++){%>
                                <li class="paginateLi" style="width:30px;height:30px;color:blue;border:1px solid #000;"><a href="/products?pageNo=<%= i%>" class="paginateBTN"><%= i %></a></li>
                                <% }; %> 
                            </ul>
                        </div> -->
        <% if (pages > 0) { %>
            <ul class="pagination text-center" style="display: flex; justify-content: center;">
                <% if (current == 1) { %>
                    <li class="disabled"><a>First</a></li>
                <% } else { %>
                    <li><a href="/products/1" class="testbtn">First</a></li>
                <% } %>
                <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
                <% if (i !== 1) { %>
                    <li class="disabled"><a>...</a></li>
                <% } %>
                <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
                    <% if (i == current) { %>
                        <li class="active"><a><%= i %></a></li>
                    <% } else { %>
                        <li><a href="/products/<%= i %>" class="testbtn"><%= i %></a></li>
                    <% } %>
                    <% if (i == Number(current) + 4 && i < pages) { %>
                        <li class="disabled"><a>...</a></li>
                    <% } %>
                <% } %>
                <% if (current == pages) { %>
                    <li class="disabled"><a>Last</a></li>
                <% } else { %>
                    <li><a href="/products/<%= pages %>" class="testbtn">Last</a></li>
                <% } %>
            </ul>
        <% } %>
    </div>
</body>

</html>